<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rad.typo catalog</title>
    <style>
        :root {
            --bg-color: #1a1a1a;
            --text-color: #fff;
            --link-color: #809fff;
            --secondary-color: #999;
            --accent-color: #666;
            --spacing: 20px;
            --max-width: 1200px;
        }

        [data-theme="light"] {
            --bg-color: #fff;
            --text-color: #000;
            --link-color: #0000FF;
            --secondary-color: #666;
            --accent-color: #ccc;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: monospace;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
            line-height: 1.6;
            padding: var(--spacing);
        }

        a {
            color: var(--link-color);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .container {
            max-width: var(--max-width);
            margin: 0 auto;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .intro {
            margin-bottom: 30px;
        }

        .filters {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid var(--accent-color);
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 150px;
        }

        .filter-label {
            margin-bottom: 5px;
            font-size: 14px;
            color: var(--secondary-color);
        }

        select, input {
            font-family: monospace;
            background-color: var(--bg-color);
            color: var(--text-color);
            border: 1px solid var(--accent-color);
            padding: 5px;
        }

        .reset-btn {
            background: none;
            border: 1px solid var(--accent-color);
            color: var(--text-color);
            padding: 5px 10px;
            font-family: monospace;
            cursor: pointer;
            margin-left: auto;
            align-self: flex-end;
        }

        .reset-btn:hover {
            background-color: var(--accent-color);
        }

        .song-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .song-card {
            border: 1px solid var(--accent-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .song-artwork {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
            background-color: rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .song-artwork img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .placeholder-artwork {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            font-size: 48px;
            color: var(--secondary-color);
        }

        .song-info {
            padding: 15px;
        }

        .song-title {
            font-size: 16px;
            margin-bottom: 5px;
        }

        .song-meta {
            color: var(--secondary-color);
            font-size: 14px;
            margin-bottom: 10px;
        }

        .song-links {
            display: flex;
            gap: 10px;
        }

        .format-link {
            display: inline-block;
            padding: 5px 10px;
            border: 1px solid var(--accent-color);
            border-radius: 3px;
            font-size: 12px;
        }

        .format-link:hover {
            background-color: var(--accent-color);
            text-decoration: none;
        }

        .resources-list {
            margin-top: 10px;
            padding-left: 20px;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px 0;
        }

        .page-link {
            display: inline-block;
            padding: 5px 10px;
            border: 1px solid var(--accent-color);
            min-width: 35px;
            text-align: center;
        }

        .page-link.active {
            background-color: var(--accent-color);
            pointer-events: none;
        }

        .theme-toggle {
            position: fixed;
            top: var(--spacing);
            right: var(--spacing);
            background: none;
            border: none;
            color: var(--text-color);
            font-family: monospace;
            cursor: pointer;
            padding: 5px;
        }

        .year-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 3px 8px;
            font-size: 12px;
            border-radius: 3px;
        }

        .status-indicator {
            position: absolute;
            bottom: 10px;
            left: 10px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .status-vibes {
            background-color: #4CAF50;
        }

        .status-no-vibes {
            background-color: #F44336;
        }

        @media screen and (max-width: 768px) {
            .song-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media screen and (max-width: 480px) {
            .song-grid {
                grid-template-columns: 1fr;
            }
            
            .filters {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">○ light mode</button>

    <div class="container">
        <a href="/" class="back-link">← back</a>
        
        <h1>rad.typo catalog</h1>
        <div class="intro">
            Welcome to the complete rad.typo catalog. All tracks, artwork, and resources are available for download below.
        </div>
        
        <div class="filters">
            <div class="filter-group">
                <label class="filter-label" for="year-filter">Year</label>
                <select id="year-filter">
                    <option value="">All Years</option>
                    <option value="2024">2024</option>
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="2020">2020</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label class="filter-label" for="status-filter">Status</label>
                <select id="status-filter">
                    <option value="">All Status</option>
                    <option value="Vibes">Vibes</option>
                    <option value="No Vibes">No Vibes</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label class="filter-label" for="search-input">Search</label>
                <input type="text" id="search-input" placeholder="Song title...">
            </div>
            
            <button class="reset-btn" id="reset-filters">Reset Filters</button>
        </div>
        
        <div class="song-grid" id="song-grid">
            <!-- Song cards will be populated here -->
        </div>
        
        <div class="pagination" id="pagination">
            <!-- Pagination will be populated here -->
        </div>
    </div>
    
    <script>
        // Sample data based on CSV
        const allSongs = [
            // 2024 songs
            {
                title: "The Cats of the Alhambra",
                year: 2024,
                date: "February 14, 2024",
                status: "Vibes",
                formats: ["MP3", "WAV", "FLAC"],
                resources: ["Artwork (JPG)", "Chord sheet (PDF)", "Guitar playthrough (video)"]
            },
            {
                title: "Crying to Cadiz",
                year: 2024,
                date: "February 15, 2024",
                status: "Vibes",
                formats: ["MP3", "WAV", "FLAC"],
                resources: ["Artwork (Coming soon)", "Chord sheet (PDF)"]
            },
            {
                title: "I Remember Patino",
                year: 2024,
                date: "February 17, 2024",
                status: "Vibes",
                formats: ["MP3", "WAV", "FLAC"],
                resources: ["Artwork (Coming soon)", "Chord sheet (PDF)"]
            },
            {
                title: "Andalusian Strain",
                year: 2024,
                date: "February 19, 2024",
                status: "Vibes",
                formats: ["MP3", "WAV"],
                resources: ["Artwork (Coming soon)"]
            },
            {
                title: "Didn't See That Coming",
                year: 2024,
                date: "April 25, 2024",
                status: "Vibes",
                formats: ["MP3", "WAV"],
                resources: ["Artwork (Coming soon)"]
            },
            {
                title: "The One We Didn't Get to Record with Steve Albini",
                year: 2024,
                date: "May 7, 2024",
                status: "Vibes",
                formats: ["MP3"],
                resources: []
            },
            
            // 2023 songs (a subset)
            {
                title: "Nollaig Eile",
                year: 2023,
                date: "March 27, 2023",
                status: "Vibes",
                formats: ["MP3", "WAV", "FLAC"],
                resources: ["Artwork (JPG)", "Chord sheet (PDF)"]
            },
            {
                title: "I Haven't Even Got My Own Guitar",
                year: 2023,
                date: "April 16, 2023",
                status: "Vibes",
                formats: ["MP3", "WAV"],
                resources: ["Artwork (Coming soon)"]
            },
            {
                title: "We Were Lucky That We Found Each Other",
                year: 2023,
                date: "May 14, 2023",
                status: "Vibes",
                formats: ["MP3", "WAV", "FLAC"],
                resources: ["Artwork (JPG)", "Guitar playthrough (video)"]
            },
            {
                title: "Dishonesty",
                year: 2023,
                date: "December 19, 2023",
                status: "Vibes",
                formats: ["MP3", "WAV"],
                resources: []
            },
            {
                title: "Fridge Magnet",
                year: 2023,
                date: "April 9, 2023",
                status: "No Vibes",
                formats: ["MP3"],
                resources: []
            },
            {
                title: "It's a Shame I'm In Love",
                year: 2023,
                date: "May 15, 2023",
                status: "No Vibes",
                formats: ["MP3"],
                resources: []
            },
            
            // 2022 songs (a subset)
            {
                title: "Let The Making Be Enough",
                year: 2022,
                date: "February 22, 2022",
                status: "Vibes",
                formats: ["MP3", "WAV", "FLAC"],
                resources: ["Artwork (JPG)", "Chord sheet (PDF)"]
            },
            {
                title: "Red Flag",
                year: 2022,
                date: "March 12, 2022",
                status: "Vibes",
                formats: ["MP3", "WAV"],
                resources: ["Artwork (Coming soon)"]
            },
            {
                title: "Frontal Lobe Fritz",
                year: 2022,
                date: "March 28, 2022",
                status: "Vibes",
                formats: ["MP3", "WAV", "FLAC"],
                resources: ["Artwork (JPG)", "Guitar playthrough (video)"]
            }
        ];
        
        // Configuration
        const songsPerPage = 12;
        let currentPage = 1;
        let filteredSongs = [...allSongs];
        
        // DOM elements
        const songGrid = document.getElementById('song-grid');
        const pagination = document.getElementById('pagination');
        const yearFilter = document.getElementById('year-filter');
        const statusFilter = document.getElementById('status-filter');
        const searchInput = document.getElementById('search-input');
        const resetBtn = document.getElementById('reset-filters');
        
        // Initialize the page
        function init() {
            // Apply filters
            applyFilters();
            
            // Event listeners
            yearFilter.addEventListener('change', applyFilters);
            statusFilter.addEventListener('change', applyFilters);
            searchInput.addEventListener('input', applyFilters);
            resetBtn.addEventListener('click', resetFilters);
            
            // Handle pagination clicks
            pagination.addEventListener('click', function(e) {
                if (e.target.classList.contains('page-link') && !e.target.classList.contains('active')) {
                    currentPage = parseInt(e.target.dataset.page);
                    renderSongs();
                    scrollToTop();
                }
            });
        }
        
        // Apply filters to songs
        function applyFilters() {
            const yearValue = yearFilter.value;
            const statusValue = statusFilter.value;
            const searchValue = searchInput.value.toLowerCase();
            
            filteredSongs = allSongs.filter(song => {
                // Year filter
                if (yearValue && song.year.toString() !== yearValue) {
                    return false;
                }
                
                // Status filter
                if (statusValue && song.status !== statusValue) {
                    return false;
                }
                
                // Search filter
                if (searchValue && !song.title.toLowerCase().includes(searchValue)) {
                    return false;
                }
                
                return true;
            });
            
            // Reset to first page when filters change
            currentPage = 1;
            
            // Render filtered songs
            renderSongs();
        }
        
        // Reset all filters
        function resetFilters() {
            yearFilter.value = '';
            statusFilter.value = '';
            searchInput.value = '';
            
            filteredSongs = [...allSongs];
            currentPage = 1;
            
            renderSongs();
        }
        
        // Render songs for current page
        function renderSongs() {
            // Clear the song grid
            songGrid.innerHTML = '';
            
            // Calculate pagination
            const totalPages = Math.ceil(filteredSongs.length / songsPerPage);
            const startIndex = (currentPage - 1) * songsPerPage;
            const endIndex = startIndex + songsPerPage;
            const currentSongs = filteredSongs.slice(startIndex, endIndex);
            
            // Render each song card
            currentSongs.forEach(song => {
                const songCard = document.createElement('div');
                songCard.className = 'song-card';
                
                const hasArtwork = song.resources.some(r => r.includes('Artwork (JPG)'));
                const artworkHTML = hasArtwork ? 
                    `<img src="artwork/${song.title.toLowerCase().replace(/\s+/g, '-')}.jpg" alt="${song.title} artwork">` :
                    `<div class="placeholder-artwork">♪</div>`;
                
                songCard.innerHTML = `
                    <div class="song-artwork">
                        ${artworkHTML}
                        <div class="year-badge">${song.year}</div>
                        <div class="status-indicator status-${song.status.toLowerCase().replace(/\s+/g, '-')}"></div>
                    </div>
                    <div class="song-info">
                        <h3 class="song-title">${song.title}</h3>
                        <div class="song-meta">${song.date} · 3:43</div>
                        <div class="song-links">
                            ${song.formats.map(format => 
                                `<a href="#" class="format-link">${format}</a>`
                            ).join('')}
                        </div>
                        ${song.resources.length > 0 ? `
                            <ul class="resources-list">
                                ${song.resources.map(resource => 
                                    `<li><a href="#">${resource}</a></li>`
                                ).join('')}
                            </ul>
                        ` : ''}
                    </div>
                `;
                
                songGrid.appendChild(songCard);
            });
            
            // Update pagination
            renderPagination(totalPages);
        }
        
        // Render pagination controls
        function renderPagination(totalPages) {
            pagination.innerHTML = '';
            
            if (totalPages <= 1) {
                return;
            }
            
            // Previous button
            if (currentPage > 1) {
                const prevBtn = document.createElement('a');
                prevBtn.className = 'page-link';
                prevBtn.href = '#';
                prevBtn.textContent = '←';
                prevBtn.dataset.page = currentPage - 1;
                pagination.appendChild(prevBtn);
            }
            
            // Page numbers
            for (let i = 1; i <= totalPages; i++) {
                const pageLink = document.createElement('a');
                pageLink.className = 'page-link';
                if (i === currentPage) {
                    pageLink.classList.add('active');
                }
                pageLink.href = '#';
                pageLink.textContent = i;
                pageLink.dataset.page = i;
                pagination.appendChild(pageLink);
            }
            
            // Next button
            if (currentPage < totalPages) {
                const nextBtn = document.createElement('a');
                nextBtn.className = 'page-link';
                nextBtn.href = '#';
                nextBtn.textContent = '→';
                nextBtn.dataset.page = currentPage + 1;
                pagination.appendChild(nextBtn);
            }
            
            // Show result count
            const resultCount = document.createElement('div');
            resultCount.style.marginLeft = '15px';
            resultCount.style.color = 'var(--secondary-color)';
            resultCount.textContent = `${filteredSongs.length} songs`;
            pagination.appendChild(resultCount);
        }
        
        // Scroll to top of the page
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
        
        // Toggle theme
        function toggleTheme() {
            const body = document.documentElement;
            const button = document.querySelector('.theme-toggle');
            const isDark = body.getAttribute('data-theme') === 'light';
            
            body.setAttribute('data-theme', isDark ? 'dark' : 'light');
            button.innerHTML = isDark ? '○ light mode' : '● dark mode';
        }
        
        // Initialize the page when DOM is loaded
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
