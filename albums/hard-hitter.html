<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hard hitter - rad.typo</title>
    <style>
        :root {
            --bg-color: #fff;
            --text-color: #000;
            --link-color: #0000FF;
            --secondary-color: #666;
            --interactive-color: #333;
            --code-bg: #f5f5f5;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: monospace;
            max-width: 800px;
            margin: 48px auto;
            padding: 24px;
            line-height: 1.6;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        h1 {
            font-size: 24px;
            margin: 0 0 24px 0;
        }

        h2 {
            font-size: 16px;
            margin: 0;
        }

        a {
            color: var(--link-color);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .header {
            margin-bottom: 30px;
            position: relative;
        }

        .back {
            position: absolute;
            top: 0;
            right: 0;
            font-size: 14px;
        }

        .status {
            color: var(--secondary-color);
            font-size: 14px;
            margin-bottom: 20px;
        }

        .breathing-dots::after {
            content: '';
            animation: breathe 4s infinite;
        }

        @keyframes breathe {
            0%, 100% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
        }

        .album-info {
            margin-bottom: 40px;
        }

        .album-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .album-meta {
            color: var(--secondary-color);
            font-size: 14px;
        }

        .binary-indicator {
            font-family: monospace;
            font-size: 16px;
            letter-spacing: 2px;
        }

        .carousel-container {
            margin: 30px 0;
        }

        .carousel {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
        }

        .carousel-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .carousel-slide.active {
            opacity: 1;
        }

        .carousel-slide img,
        .lathe-video video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .carousel-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .carousel-btn {
            background: none;
            border: 1px solid var(--secondary-color);
            color: var(--secondary-color);
            font-family: monospace;
            font-size: 14px;
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .carousel-btn:hover {
            background: var(--text-color);
            color: var(--bg-color);
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 10px;
        }

        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--secondary-color);
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .indicator.active {
            background: var(--text-color);
        }

        .tracklist {
            margin: 40px 0;
        }

        .tracklist-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .track-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .track {
            display: flex;
            padding: 8px 0;
            border-bottom: 1px solid var(--code-bg);
            align-items: center;
        }

        .track:hover {
            background-color: var(--code-bg);
            margin: 0 -10px;
            padding: 8px 10px;
        }

        .track-number {
            color: var(--secondary-color);
            min-width: 30px;
            flex-shrink: 0;
        }

        .track-title {
            flex-grow: 1;
        }

        .download-symbol {
            color: var(--interactive-color);
            font-size: 16px;
            cursor: pointer;
            transition: color 0.2s ease;
            padding: 4px;
            margin-left: auto;
        }

        .download-symbol:hover {
            color: var(--text-color);
            text-decoration: underline;
        }

        .download-all-btn {
            display: inline-block;
            font-family: monospace;
            font-size: 14px;
            padding: 8px 16px;
            border: 1px solid var(--secondary-color);
            background: var(--bg-color);
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .download-all-btn:hover {
            background: var(--text-color);
            color: var(--bg-color);
            text-decoration: none;
        }

        .purchase-section {
            margin: 40px 0;
            padding: 20px 0;
            border-top: 1px solid var(--code-bg);
            border-bottom: 1px solid var(--code-bg);
        }

        .price {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .shipping-selector h3 {
            font-size: 16px;
            margin: 0 0 15px 0;
        }

        .shipping-options {
            margin-bottom: 20px;
        }

        .shipping-option {
            display: flex;
            align-items: center;
            padding: 8px 0;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .shipping-option:hover {
            background-color: var(--code-bg);
            margin: 0 -10px;
            padding: 8px 10px;
        }

        .shipping-option input[type="radio"] {
            margin-right: 12px;
        }

        .shipping-details {
            display: flex;
            justify-content: space-between;
            width: 100%;
            align-items: center;
        }

        .zone {
            flex-grow: 1;
        }

        .cost {
            color: var(--secondary-color);
        }

        .total-price {
            font-size: 16px;
            padding: 12px 0;
            border-top: 1px solid var(--code-bg);
            margin-top: 10px;
        }

        .buy-now-button {
            font-family: monospace;
            font-size: 14px;
            padding: 12px 24px;
            border: 1px solid var(--secondary-color);
            background: var(--bg-color);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.2s ease;
            width: 100%;
            margin-top: 15px;
        }

        .buy-now-button:hover {
            background: var(--text-color);
            color: var(--bg-color);
        }

        .footer {
            margin-top: 40px;
            font-size: 14px;
            color: var(--secondary-color);
        }

        .footer a {
            color: var(--secondary-color);
        }

        @media (max-width: 600px) {
            body { 
                margin: 20px auto;
                padding: 15px;
            }
            
            .carousel-nav {
                gap: 10px;
            }
            
            .carousel-btn {
                padding: 6px 12px;
                font-size: 12px;
            }

            .tracklist-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <a href="../" class="back">‚Üê back</a>
        <h1>rad.typo</h1>
        <div class="status">derry: <span id="weather-temp">18</span>¬∞C <span id="weather-icon">üåßÔ∏è</span> | cpu: <span id="cpu-temp">54</span>¬∞C<span class="breathing-dots"></span></div>
    </header>

    <div class="album-info">
        <div class="album-header">
            <span class="binary-indicator">‚ñ°‚ñ°‚ñ°‚ñ°‚ñ°‚ñ°‚ñ°‚ñ†</span>
            <h2>hard hitter</h2>
        </div>
        <div class="album-meta">12" ‚Ä¢ lathe cut ‚Ä¢ 8 songs ‚Ä¢ 20 copies (8 remaining)</div>
    </div>

    <div class="carousel-container">
        <div class="carousel" id="carousel">
            <div class="carousel-slide active">
                <img src="/dev/images/hard-hitter-artwork.jpg" alt="hard hitter album artwork">
            </div>
            <div class="carousel-slide">
                <img src="/dev/images/hard-hitter-tracklist.jpg" alt="hard hitter tracklist">
            </div>
            <div class="carousel-slide">
                <img src="/dev/images/hard-hitter-vinyl.jpg" alt="hard hitter vinyl record">
            </div>
            <div class="carousel-slide">
                <div class="lathe-video">
                    <video controls preload="none" poster="/albums/hard-hitter-still.jpg">
                        <source src="/albums/hard-hitter-small.mp4" type="video/mp4" media="(max-width: 600px)">
                        <source src="/albums/hard-hitter-balanced.mp4" type="video/mp4">
                        actual lathe cutting ‚Ä¢ bandwidth warning
                    </video>
                </div>
            </div>
        </div>
        
        <div class="carousel-nav">
            <button class="carousel-btn" onclick="changeSlide(-1)">‚Üê prev</button>
            <button class="carousel-btn" onclick="changeSlide(1)">next ‚Üí</button>
        </div>
        
        <div class="carousel-indicators">
            <div class="indicator active" onclick="goToSlide(0)"></div>
            <div class="indicator" onclick="goToSlide(1)"></div>
            <div class="indicator" onclick="goToSlide(2)"></div>
            <div class="indicator" onclick="goToSlide(3)"></div>
        </div>
    </div>

    <section class="tracklist">
        <div class="tracklist-header">
            <h2>tracks</h2>
            <a href="/albums/hard-hitter-album.zip" download class="download-all-btn">download all ‚Ä¢ 68MB</a>
        </div>
        <ol class="track-list">
            <li class="track">
                <span class="track-number">1.</span>
                <span class="track-title"><a href="../songs/whats-not-to-like.html">what's not to like</a></span>
                <span class="download-symbol" onclick="downloadSong('/audio/whats-not-to-like.mp3')">‚¨á</span>
            </li>
            <li class="track">
                <span class="track-number">2.</span>
                <span class="track-title"><a href="../songs/birthday-cake.html">birthday cake</a></span>
                <span class="download-symbol" onclick="downloadSong('/audio/birthday-cake.mp3')">‚¨á</span>
            </li>
            <li class="track">
                <span class="track-number">3.</span>
                <span class="track-title"><a href="../songs/the-one-we-didnt-get-to-record-with-steve-albini.html">the one we didn't get to record with steve albini</a></span>
                <span class="download-symbol" onclick="downloadSong('/audio/the-one-we-didnt-get-to-record-with-steve-albini.mp3')">‚¨á</span>
            </li>
            <li class="track">
                <span class="track-number">4.</span>
                <span class="track-title"><a href="../songs/rad-typo.html">rad typo</a></span>
                <span class="download-symbol" onclick="downloadSong('/audio/rad-typo.mp3')">‚¨á</span>
            </li>
            <li class="track">
                <span class="track-number">5.</span>
                <span class="track-title"><a href="../songs/muriel.html">muriel</a></span>
                <span class="download-symbol" onclick="downloadSong('/audio/muriel.mp3')">‚¨á</span>
            </li>
            <li class="track">
                <span class="track-number">6.</span>
                <span class="track-title"><a href="../songs/bad-fortune.html">bad fortune</a></span>
                <span class="download-symbol" onclick="downloadSong('/audio/bad-fortune.mp3')">‚¨á</span>
            </li>
            <li class="track">
                <span class="track-number">7.</span>
                <span class="track-title"><a href="../songs/it-aint-pretty.html">it ain't pretty</a></span>
                <span class="download-symbol" onclick="downloadSong('/audio/it-aint-pretty.mp3')">‚¨á</span>
            </li>
            <li class="track">
                <span class="track-number">8.</span>
                <span class="track-title"><a href="../songs/hard-hitter.html">hard hitter</a></span>
                <span class="download-symbol" onclick="downloadSong('/audio/hard-hitter.mp3')">‚¨á</span>
            </li>
        </ol>
    </section>

    <section class="purchase-section">
        <div class="price">¬£40</div>
        
        <div class="shipping-selector">
            <h3>shipping</h3>
            <div class="shipping-options">
                <label class="shipping-option">
                    <input type="radio" name="shipping" value="uk-ireland" checked>
                    <span class="shipping-details">
                        <span class="zone">uk & ireland</span>
                        <span class="cost">¬£5</span>
                    </span>
                </label>
                
                <label class="shipping-option">
                    <input type="radio" name="shipping" value="europe">
                    <span class="shipping-details">
                        <span class="zone">europe</span>
                        <span class="cost">¬£7</span>
                    </span>
                </label>
                
                <label class="shipping-option">
                    <input type="radio" name="shipping" value="rest-of-world">
                    <span class="shipping-details">
                        <span class="zone">rest of world</span>
                        <span class="cost">¬£10</span>
                    </span>
                </label>
            </div>
            
            <div class="total-price">
                total: ¬£<span id="total">45</span>
            </div>
        </div>
        
        <button class="buy-now-button" onclick="proceedToCheckout()">
            buy now ‚Ä¢ ships within 3-5 working days
        </button>
    </section>

    <footer class="footer">
        ‚îî‚îÄ <a href="../infrastructure.html">infrastructure</a> | <a href="mailto:hello@radtypo.com">hello@radtypo.com</a>
    </footer>

    <script>
        let currentSlide = 0;
        const totalSlides = 4;
        const stripeLinks = {
            'uk-ireland': 'https://buy.stripe.com/aFa7sLcz81qn3Es9xL6Na00',
            'europe': 'https://buy.stripe.com/bJe14n7eO1qna2QdO16Na01', 
            'rest-of-world': 'https://buy.stripe.com/fZuaEX6aK9WT5MAaBP6Na02'
        };
        const shippingCosts = {
            'uk-ireland': 5,
            'europe': 7,
            'rest-of-world': 10
        };

        function changeSlide(direction) {
            currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
            updateCarousel();
        }

        function goToSlide(slideIndex) {
            currentSlide = slideIndex;
            updateCarousel();
        }

        function updateCarousel() {
            document.querySelectorAll('.carousel-slide').forEach((slide, index) => {
                slide.classList.toggle('active', index === currentSlide);
                const video = slide.querySelector('video');
                if (video && !slide.classList.contains('active')) video.pause();
            });
            
            document.querySelectorAll('.indicator').forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentSlide);
            });
        }

        async function fetchJSON(url) {
            try {
                const response = await fetch(url);
                return await response.json();
            } catch (error) {
                console.log(`Fetch failed for ${url}:`, error);
                return null;
            }
        }

        async function updateCpuTemp() {
            const data = await fetchJSON('/api/stats.json');
            if (data?.thermal?.cpu_temp) {
                document.getElementById('cpu-temp').textContent = data.thermal.cpu_temp.replace('¬∞C', '');
            }
        }

        async function updateWeather() {
            const data = await fetchJSON('https://api.open-meteo.com/v1/forecast?latitude=55.014662&longitude=-7.302903&current=temperature_2m,weather_code&timezone=Europe%2FLondon');
            if (!data?.current) return;
            
            document.getElementById('weather-temp').textContent = Math.round(data.current.temperature_2m);
            
            const iconMap = {
                0: '‚òÄÔ∏è', 3: '‚õÖ', 48: 'üå´Ô∏è', 67: 'üåßÔ∏è', 
                77: 'üå®Ô∏è', 82: 'üå¶Ô∏è', 95: '‚õàÔ∏è'
            };
            const code = data.current.weather_code;
            const icon = Object.keys(iconMap).reverse().find(k => code >= k);
            document.getElementById('weather-icon').textContent = iconMap[icon] || '‚õÖ';
        }

        function updateTotal() {
            const selectedShipping = document.querySelector('input[name="shipping"]:checked').value;
            document.getElementById('total').textContent = 40 + shippingCosts[selectedShipping];
        }

        function proceedToCheckout() {
            const selectedShipping = document.querySelector('input[name="shipping"]:checked').value;
            window.open(stripeLinks[selectedShipping], '_blank');
        }

        function downloadSong(url) {
            const link = document.createElement('a');
            link.href = url;
            link.download = '';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('input[name="shipping"]').forEach(input => {
                input.addEventListener('change', updateTotal);
            });
            updateCpuTemp();
            updateWeather();
            setInterval(updateCpuTemp, 30000);
            setInterval(updateWeather, 300000);
        });
    </script>
</body>
</html>
