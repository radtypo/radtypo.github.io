<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>straight and narrow - rad.typo</title>
    <style>
        :root {
            --bg-color: #fff;
            --text-color: #000;
            --link-color: #0000FF;
            --secondary-color: #666;
            --code-bg: #f5f5f5;
        }

        body {
            font-family: monospace;
            max-width: 800px;
            margin: 48px auto;
            padding: 24px;
            line-height: 1.6;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        h1, h2 {
            margin: 0;
            padding: 0;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 24px;
        }

        h2 {
            font-size: 16px;
            margin-bottom: 15px;
            font-weight: normal;
        }

        a {
            color: var(--link-color);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .header {
            margin-bottom: 30px;
            position: relative;
        }

        .back {
            position: absolute;
            top: 0;
            right: 0;
            font-size: 14px;
        }

        .status {
            color: var(--secondary-color);
            font-size: 14px;
            margin-bottom: 20px;
        }

        .breathing-dots::after {
            content: '';
            animation: breathe 4s infinite;
        }

        @keyframes breathe {
            0%, 100% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
        }

        .album-info {
            margin-bottom: 40px;
        }

        .album-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .album-header h2 {
            margin: 0;
            font-weight: bold;
        }

        .album-meta {
            color: var(--secondary-color);
            font-size: 14px;
        }

        .artwork-container {
            text-align: center;
            margin: 30px 0;
        }

        .song-artwork {
            max-width: 100%;
            max-height: 400px;
            cursor: pointer;
        }

        .player-container {
            margin: 30px 0;
        }

        audio {
            width: 100%;
        }

        .section {
            margin: 20px 0;
            border: 1px solid var(--secondary-color);
            border-radius: 4px;
        }

        .section-header {
            padding: 10px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid transparent;
        }

        .section-header:hover {
            background-color: var(--secondary-color);
            color: var(--bg-color);
        }

        .section-content {
            padding: 15px;
            display: none;
        }

        .section-content.open {
            display: block;
            border-top: 1px solid var(--secondary-color);
        }

        .lyrics {
            white-space: pre-line;
            line-height: 1.8;
        }

        /* Details section with button navigation */
        .button-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .nav-button {
            background: none;
            border: 1px solid var(--secondary-color);
            color: var(--text-color);
            padding: 8px 12px;
            cursor: pointer;
            font-family: monospace;
            font-size: 14px;
        }

        .nav-button:hover {
            background-color: var(--secondary-color);
            color: var(--bg-color);
        }

        .nav-button.active {
            background-color: var(--text-color);
            color: var(--bg-color);
        }

        .details-content {
            min-height: 150px;
        }

        .metadata-grid {
            display: grid;
            grid-template-columns: auto 1fr;
            gap: 8px 16px;
        }

        .metadata-grid dt {
            color: var(--secondary-color);
            font-weight: normal;
        }

        .metadata-grid dd {
            margin: 0;
        }

        .equipment-list {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .equipment-category {
            font-weight: normal;
            margin: 15px 0 8px 0;
            color: var(--secondary-color);
        }

        .resource-link {
            display: block;
            margin: 5px 0;
            color: var(--link-color);
        }

        .resource-link:before {
            content: "‚Ä¢ ";
            color: var(--text-color);
        }

        .footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid var(--secondary-color);
            font-size: 14px;
            color: var(--secondary-color);
        }

        .footer a {
            color: var(--secondary-color);
        }

        /* Mobile: Smaller, tighter buttons */
        @media (max-width: 600px) {
            body { 
                margin: 20px auto;
                padding: 15px;
            }

            .button-nav {
                gap: 6px;
                margin-bottom: 15px;
            }

            .nav-button {
                padding: 6px 8px;
                font-size: 12px;
                border-radius: 2px;
            }

            .metadata-grid {
                grid-template-columns: 1fr;
                gap: 4px;
            }

            .metadata-grid dt {
                margin-top: 12px;
            }

            .metadata-grid dt:first-child {
                margin-top: 0;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <a href="/" class="back">‚Üê back</a>
        <h1>rad.typo</h1>
        <div class="status">derry: <span id="weather-temp">15</span>¬∞C <span id="weather-icon">‚òÅÔ∏è</span> | cpu: <span id="cpu-temp">54</span>¬∞C<span class="breathing-dots"></span></div>
    </header>

    <div class="album-info">
        <div class="album-header">
            <h2>straight and narrow</h2>
        </div>
        <div class="album-meta">2025-10-15</div>
    </div>

    <div class="artwork-container">
        <img src="../images/straight-and-narrow-single-artwork.jpg"
             alt="Straight and Narrow artwork"
             class="song-artwork">
    </div>

    <div class="player-container">
        <audio controls preload="metadata">
            <source src="../audio/straight-and-narrow.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    </div>

    <div class="section">
        <div class="section-header" onclick="toggleSection('lyrics')">
            <span>lyrics</span>
            <span class="toggle" id="lyrics-toggle">[ - ]</span>
        </div>
        <div class="section-content open" id="lyrics">
            <div class="lyrics">geometric lines
kept him
on the straight and narrow
no bleed
he worked his pen
like a diamond faceter
bridgit saved his life
kept warm 
by chiaroscuro
his art
thrown in a skip     
by some harried councilmen
unprotected by love 

hailey was a rich kid
she never knew what she needed
but when he came with solutions
she always put him down, put him down, put him down

geodesic fires
kept him 
on the straight and narrow
no need
to mark his friends
on a chinese calendar 
solitary shy
kept warm
by chiaroscuro
his heart
held in the grip
of a pattern's frequency
unprotected by love

hailey was a rich kid
she never knew what she needed
but when he came with solutions
she'd always put'em down, put'em down, put'em down

georgie was a shy boy
<em>georgie was a shy boy</em>
he only drew with a felt-tip 
<em>only drew with a felt-tip</em>
he lived his life as a metaphor
and they would shoot it down, shoot it down, shoot it down

i am certain life's something to prize 
we are highly evolved
we're endangered
yet loosely defined
in this sock sorting, job-ticking, game-clicking mundanity
if we keep it in check
it's a salve for humanity

hailey was a rich kid
she never knew what she needed 
<em>never knew what she needed</em>
but when he came with solutions
she'd always put'em down, put'em down, put'em down

georgie was a shy boy
<em>georgie was a shy boy</em>
he only drew with a felt-tip
<em>he only drew with a felt-tip</em>
he lived his life as a metaphor
<em>he lived his life as a metaphor</em>
and they would shoot it down, shoot it down, shoot it down</div>
        </div>
    </div>

    <div class="section">
        <div class="section-header" onclick="toggleSection('details')">
            <span>details</span>
            <span class="toggle" id="details-toggle">[ + ]</span>
        </div>
        <div class="section-content" id="details">
            <div class="button-nav">
                <button class="nav-button active" onclick="showDetailsContent('track', this)">track</button>
                <button class="nav-button" onclick="showDetailsContent('equipment', this)">equipment</button>
                <button class="nav-button" onclick="showDetailsContent('technical', this)">technical</button>
                <button class="nav-button" onclick="showDetailsContent('credits', this)">credits</button>
            </div>
            
            <div class="details-content" id="details-content">
                <dl class="metadata-grid">
                    <dt>composition date</dt>
                    <dd>june 25, 2022</dd>
                    <dt>release date</dt>
                    <dd>october 15, 2025</dd>
                    <dt>key</dt>
                    <dd>e major</dd>
                    <dt>bpm</dt>
                    <dd>126</dd>
                    <dt>time signature</dt>
                    <dd>4/4</dd>
                    <dt>tuning</dt>
                    <dd>eadgbe</dd>
                    <dt>isrc</dt>
                    <dd>gxdwy2500010</dd>
                </dl>
            </div>
        </div>
    </div>

    <div class="section">
        <div class="section-header" onclick="toggleSection('resources')">
            <span>resources</span>
            <span class="toggle" id="resources-toggle">[ + ]</span>
        </div>
        <div class="section-content" id="resources">
            <a href="../audio/straight-and-narrow.mp3" download class="resource-link">mp3 download</a>
            <a href="../resources/straight-and-narrow-recording-information.txt" download class="resource-link">recording information</a>
        </div>
    </div>

    <footer class="footer">
        ‚îî‚îÄ <a href="https://radtypo.com/infrastructure.html">infrastructure</a> | <a href="mailto:hello@radtypo.com">hello@radtypo.com</a>
    </footer>

    <script>
        function toggleSection(id) {
            const content = document.getElementById(id);
            const toggle = document.getElementById(id + '-toggle');
            
            if (content.classList.contains('open')) {
                content.classList.remove('open');
                toggle.textContent = '[ + ]';
            } else {
                content.classList.add('open');
                toggle.textContent = '[ - ]';
            }
        }

        function showDetailsContent(type, button) {
            const contentArea = document.getElementById('details-content');
            const buttons = button.parentElement.querySelectorAll('.nav-button');
            
            // Update active button
            buttons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            
            // Update content
            let content = '';
            
            switch(type) {
                case 'track':
                    content = `
                        <dl class="metadata-grid">
                            <dt>composition date</dt>
                            <dd>june 25, 2022</dd>
                            <dt>release date</dt>
                            <dd>october 15, 2025</dd>
                            <dt>key</dt>
                            <dd>e major</dd>
                            <dt>bpm</dt>
                            <dd>126</dd>
                            <dt>time signature</dt>
                            <dd>4/4</dd>
                            <dt>tuning</dt>
                            <dd>eadgbe</dd>
                            <dt>isrc</dt>
                            <dd>gxdwy2500010</dd>
                        </dl>
                    `;
                    break;
                case 'equipment':
                    content = `
                        <div class="equipment-category">guitar:</div>
                        <div class="equipment-list">
                            fender vintera jazzmaster ow mim - staytrem bridge<br>
                            vox ac15cc2<br>
                            zilla studio pro 212 - celestion vintage 30<br>
                            boss tr-2<br>
                            fulltone ocd<br>
                            little labs redeye passive<br>
                            radial tonebone shotgun<br>
                            khe audio electronics acs 8x4
                        </div>
                        
                        <div class="equipment-category">bass:</div>
                        <div class="equipment-list">
                            fender pj bass mim sb - seymour duncan quarter pounder pickups & badass bridge<br>
                            ampeg svt pro ii<br>
                            ampeg 810 cabinet<br>
                            electrovoice re20<br>
                            little labs redeye passive di<br>
                            darkglass b7k ultra
                        </div>
                        
                        <div class="equipment-category">keys:</div>
                        <div class="equipment-list">
                            korg sv-1<br>
                            roland ju-06a<br>
                            spitfire audio bbc symphony orchestra ghost keys<br>
                            yamaha mc1080 piano - neumann bcm104 (stereo) hammers & rode k2 (stereo) soundboard
                        </div>
                        
                        <div class="equipment-category">drums:</div>
                        <div class="equipment-list">
                            premier 24x14 bass drum<br>
                            mapex saturn series toms 12x10, 16x16<br>
                            mapex black panther hand hammered aluminium snare 14x5.5<br>
                            zildjian k custom 14" hi hats<br>
                            zildjian k custom 22" ride<br>
                            zildjian k custom 17" crash<br>
                            dream bliss 20" crash/ride
                        </div>
                    `;
                    break;
                case 'technical':
                    content = `
                        <div class="equipment-category">drum channels:</div>
                        <div class="equipment-list">
                            1. kick in - akg d112<br>
                            2. kick out - aston spirit<br>
                            3. snare top - beyerdynamic m201<br>
                            4. snare bottom - oktava mk012<br>
                            5. rack tom - sennheiser md421<br>
                            6. floor tom - sennheiser md421<br>
                            7. overhead left - beyerdynamic m160<br>
                            8. overhead right - beyerdynamic m160<br>
                            9. kit high center - aea r92<br>
                            10. kit low - se electronics rnr1<br>
                            11. m/s middle - rode k2<br>
                            12. m/s side - cascade gomez mje<br>
                            13. room left - cascade fathead<br>
                            14. room right - cascade fathead<br>
                            15. stairs left - se electronics t2<br>
                            16. stairs right - se electronics t2
                        </div>
                        
                        <div class="equipment-category">recording chain:</div>
                        <div class="equipment-list">
                            audient asp8024 > avid hd i/o > pro tools
                        </div>
                    `;
                    break;
                case 'credits':
                    content = `
                        <dl class="metadata-grid">
                            <dt>engineering & production</dt>
                            <dd>all composers</dd>
                            <dt>mixed and mastered by</dt>
                            <dd>caol√°n austin</dd>
                        </dl>
                    `;
                    break;
            }
            
            contentArea.innerHTML = content;
        }

        async function updateCpuTemp() {
            try {
                const response = await fetch('/api/stats.json');
                const data = await response.json();
                
                if (data.thermal && data.thermal.cpu_temp) {
                    const temp = data.thermal.cpu_temp.replace('¬∞C', '');
                    document.getElementById('cpu-temp').textContent = temp;
                }
            } catch (error) {
                console.log('CPU temperature fetch failed (server constraint):', error);
            }
        }

        async function updateWeather() {
            try {
                const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=55.014662&longitude=-7.302903&current=temperature_2m,weather_code&timezone=Europe%2FLondon');
                const data = await response.json();
                
                if (data.current) {
                    const temp = Math.round(data.current.temperature_2m);
                    document.getElementById('weather-temp').textContent = temp;
                    
                    const code = data.current.weather_code;
                    let icon = '‚òÅÔ∏è';
                    
                    if (code === 0) icon = '‚òÄÔ∏è';
                    else if (code <= 3) icon = '‚òÅÔ∏è';
                    else if (code <= 48) icon = 'üå´Ô∏è';
                    else if (code <= 67) icon = 'üåßÔ∏è';
                    else if (code <= 77) icon = 'üå®Ô∏è';
                    else if (code <= 82) icon = 'üå¶Ô∏è';
                    else if (code >= 95) icon = '‚õàÔ∏è';
                    
                    document.getElementById('weather-icon').textContent = icon;
                }
            } catch (error) {
                console.log('Weather fetch failed (server constraint):', error);
            }
        }

        updateCpuTemp();
        updateWeather();
        setInterval(updateCpuTemp, 30000);
        setInterval(updateWeather, 300000);
    </script>
</body>
</html>
